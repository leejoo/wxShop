<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>学子小铺>修改信息</title>
    <th:block th:include="includes/head :: head"></th:block>
</head>
<body class="hold-transition skin-blue sidebar-mini" th:onload="'setSelect('+${editUser.role}+')'">
<div class="wrapper">
    <th:block th:include="admin/common/header :: header"></th:block>
    <th:block th:include="admin/common/menu :: menu"></th:block>
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                修改信息
                <small>本次修改将在下次登录时生效</small>
            </h1>
        </section>
        <!-- Main content -->
        <section class="content container-fluid">
            <div class="col-md-12">
                <!-- Horizontal Form -->
                <div class="box box-info">
                    <!-- /.box-header -->
                    <th:block th:if="${baseResult!=null }">
                        <div class="alert alert-danger alert-dismissible" style="margin:15px 0 0 0">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">
                                &times;
                            </button>
                            <span th:text="${baseResult.message }"></span>
                        </div>
                    </th:block>
                    <!-- form start -->
                    <form action="/admin/user/save" method="post" class="form-horizontal" th:object="${session.admin}">
                        <input name="id" th:value="*{id}" type="hidden">
                        <div class="box-body">
                            <div class="form-group">
                                <label for="logincode" class="col-sm-2 control-label">账号</label>
                                <div class="col-sm-10">
                                    <input readonly="readonly" name="loginCode" class="form-control"
                                           id="logincode" th:value="*{loginCode}"
                                           placeholder="logincode">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputUsername3" class="col-sm-2 control-label">用户名</label>
                                <div class="col-sm-10">
                                    <input type="text" name="username" class="form-control"
                                           id="inputUsername3" th:value="*{username}"
                                           placeholder="Username">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputPassword3" class="col-sm-2 control-label">密码</label>
                                <div class="col-sm-10">
                                    <input type="password" name="password" class="form-control" id="inputPassword3"
                                           placeholder="Password">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputEmail3" class="col-sm-2 control-label">邮箱</label>
                                <div class="col-sm-10">
                                    <input type="text" name="email" class="form-control"
                                           id="inputEmail3" placeholder="Email" th:value="*{email}">
                                </div>
                            </div>
                            <!--<div class="form-group">-->
                                <!--<label for="inputRole" class="col-sm-2 control-label">角色</label>-->
                                <!--<div class="col-sm-10">-->
                                    <!--<select name="role" class="form-control" id="inputRole">-->
                                        <!--<option value="0">超级管理员</option>-->
                                        <!--<option value="1">普通管理员</option>-->
                                    <!--</select>-->
                                <!--</div>-->
                            <!--</div>-->
                        </div>
                        <!-- /.box-body -->
                        <div class="box-footer">
                            <button type="button" class="btn btn-default" onclick="history.go(-1)">取消</button>
                            <button type="submit" class="btn btn-info pull-right">提交</button>
                        </div>
                        <!-- /.box-footer -->
                    </form>
                </div>
            </div>
        </section>
        <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->
    <th:block th:include="includes/copyright :: copyright"></th:block>
</div>
<!-- ./wrapper -->
<th:block th:include="includes/foot :: foot"></th:block>
<script src="/plugins/dropzone/min/dropzone.min.js"></script>
<script>
    function setSelect(id) {
        var ls = $("#inputRole").find("option"); //获取select下拉框的所有值
        for (var j = 1; j < ls.length; j++) {
            if ($(ls[j]).val() == id) {
                $(ls[j]).attr("selected", "selected");
            }
        }
    };
</script>
</body>
</html>